"use strict";function readURL(e){e.files&&e.files[0]&&new FileReader().readAsDataURL(e.files[0])}function goToErrorMessage(){$([document.documentElement,document.body]).animate({scrollTop:$(".error").offset().top-50},500)}function searchCurrency(){$(".select-currency").select2({ajax:{url:SITE_URL+"/find-currency-in-ajax",dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return{results:e.data}},cache:!0},placeholder:jsLang("Search for currency"),minimumInputLength:1})}if($(".main-body .page-wrapper").find("#company-settings-container").length&&($(".js-example-basic-single").select2(),$("#company_name").on("blur",function(){if(""==$(this).val())$("#site_short_name").val("");else{var e=$(this).val().split(" ");1==e.length?$("#site_short_name").val(e[0][0].toUpperCase()+e[0][1].toUpperCase()):2==e.length?$("#site_short_name").val(e[0][0].toUpperCase()+e[1][0].toUpperCase()):$("#site_short_name").val(e[0][0].toUpperCase()+e[1][0].toUpperCase()+e[2][0].toUpperCase())}})),$(".main-body .page-wrapper").find("#language-settings-container").length&&($(document).on("init.dt",function(){$(".dataTables_length").remove(),$("#dataTableBuilder").removeAttr("style")}),dataTable("#dataTableBuilder",[2,3,4]),$(document).on("click",".edit_language",function(){var e=$(this).attr("id");$.ajax({url:SITE_URL+"/languages/"+e+"/edit",type:"GET",dataType:"JSON",success:function(e){$("#edit_language_name").val(e.language_name),$("#edit_short_name").val(e.short_name),$("#edit_status").val(e.status).trigger("change"),$("#edit_direction").val(e.direction).trigger("change"),$("#language_id").val(e.id),$("#editImg").attr("src",e.flag),1==e.is_default?$("#edit_default").prop("checked",!0):$("#edit_default").prop("checked",!1),$("#edit_language").modal()}})}),$("#edit_default").on("change",function(){$(this)[0].checked&&$("#edit_status").val("Active").trigger("change")}),$("#default").on("change",function(){$(this)[0].checked&&$("#status").val("Active").trigger("change")}),$("#add-language").on("show.bs.modal",function(e){$(this).find(".error").hide()}),$("#add-language").on("hidden.bs.modal",function(e){$(this).find("select").val("").trigger("change"),$("#default").prop("checked",!1)}),$("#blah_add").hide(),$("#confirmDelete").on("show.bs.modal",function(e){var t=$(e.relatedTarget),a=$(this);$("#confirmDeleteSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==t.data("label")&&(a.find("#confirmDeleteSubmitBtn").addClass("delete-task-btn").attr("data-task",t.data("id")).text(jsLang("Yes, Confirm")).show(),a.find("#confirmDeleteLabel").text(t.data("title")),a.find(".modal-body").text(t.data("message"))),$("#confirmDeleteSubmitBtn").on("click",function(){$("#delete-language-"+$(this).data("task")).trigger("submit")})}),$(document).on("click","#tablereload",function(e){e.preventDefault(),$("#dataTableBuilder").DataTable().ajax.reload()}),$(".js-example-basic-single-1").select2({dropdownParent:$("#edit_language")}),$(".js-example-basic-single-2").select2({dropdownParent:$("#add-language")})),$(".main-body .page-wrapper").find("#translation-settings-container").length&&dataTable("#dataTableBuilder",1),$(".main-body .page-wrapper").find("#sso-settings-container").length&&$(".removeSpace").on("keyup",function(e){let t=$(this).val();t=t.replace(/\s/g,""),$(this).val(t)}),$(document).on("change","#sso_google",function(e){e.target.checked?($(".google-client-id-label, .google-client-secret-label").addClass("require"),$(".google-client-id, .google-client-secret").prop("required",!0),$(".google-client-id, .google-client-secret").attr("oninvalid",`this.setCustomValidity('${jsLang("This field is required")}')`)):($(".google-client-id-label, .google-client-secret-label").removeClass("require"),$(".google-client-id, .google-client-secret").removeAttr("required style"),$(".google-client-id, .google-client-secret").attr("oninvalid","this.setCustomValidity('')"),$("div.has-validation-error").removeClass("has-validation-error").find(".error").remove())}),$(document).on("change","#sso_facebook",function(e){e.target.checked?($(".facebook-client-id-label, .facebook-client-secret-label").addClass("require"),$(".facebook-client-id, .facebook-client-secret").prop("required",!0),$(".facebook-client-id, .facebook-client-secret").attr("oninvalid",`this.setCustomValidity('${jsLang("This field is required")}')`)):($(".facebook-client-id-label, .facebook-client-secret-label").removeClass("require"),$(".facebook-client-id, .facebook-client-secret").removeAttr("required style"),$(".facebook-client-id, .facebook-client-secret").attr("oninvalid","this.setCustomValidity('')"),$("div.has-validation-error").removeClass("has-validation-error").find(".error").remove())}),$(document).on("click",".custom-file",function(){$(this).closest("#iconTop").length&&$(".btn-file-add").attr("dataFavicon","icon")}),$(document).on("click",".custom-file",function(){$(this).closest("#logo").length&&$(".btn-file-add").attr("dataFavicon","logo")}),$(document).on("click","#btnSubmits",function(){setTimeout(goToErrorMessage,0)}),$(".main-body .page-wrapper").find("#translation-settings-container").length&&$(document).on("blur","input",function(){let e=$(this).val(),t=$(this).data("name");$("#language_from").find(`input[name="${t}"]`).length>0?$("#language_from").find(`input[name="${t}"]`).val(e):$("#language_from").append(`<input type="hidden" name="${t}" value="${e}">`)}),$(document).on("file-attached",".custom-file",function(e,t){let a=t.data;a&&$(this).closest(".preview-parent").find(".custom-file-input").val(a[0].id)}),$("#customer_signup, #welcome_email").on("change",function(){"0"==$(this).val()?$(this).attr("value","1"):$(this).attr("value","0")}),$(".main-body .page-wrapper").find("#company-settings-container").length){searchCurrency(),$(".select-currency").html(`<option selected value="${currencyId}">${currencyName}</option>`);let e=`<option value="">${jsLang("Loading")}...</option>`,t=`<option value="">${jsLang("Select City")}</option>`,a=`<option value="">${jsLang("Select State")}</option>`,n=jsLang(":x is not available.");function i(i){i?($("#company_state").html(""),"null"==oldCity&&$("#company_city").html(t),$.ajax({url:url+"/geo-locale/countries/"+i+"/states",type:"GET",dataType:"json",beforeSend:function(){$("#company_state").attr("disabled","true"),$("#company_state").html(e)},success:function(e){$("#company_state").html(a),$.each(e.data,function(e,t){$("#company_state").append(`'<option ${t.code==oldState?"Selected":""} data-state="${t.code}" value="${t.code}">${t.name}</option>'`)}),$("#company_state").removeAttr("disabled"),e.length<=0&&e.data.length<=0&&(n=n.replace(":x","State"),$("#company_state").html(`<option value="">${n}</option>`))}})):($("#company_state").html(a),$("#company_city").html(t))}function o(a,i){a&&i?($("#company_city").html(""),$.ajax({url:url+"/geo-locale/countries/"+i+"/states/"+a+"/cities",type:"GET",dataType:"json",beforeSend:function(){$("#company_city").html(e),$("#company_city").attr("disabled","true")},success:function(e){$("#company_city").html(t),$.each(e.data,function(e,t){$("#company_city").append(`<option ${t.name==oldCity?"Selected":""} value="${t.name}">${t.name}</option>`)}),$("#company_city").removeAttr("disabled"),e.length<=0&&e.data.length<=0&&(n=n.replace(":x","City"),$("#company_city").html(`<option value="">${n}</option>`))}})):$("#company_city").html(t)}$(".addressSelect").select2(),$.ajax({url:url+"/geo-locale/countries",type:"GET",dataType:"json",beforeSend:function(){$("#company_country").html(e),$("#company_country").attr("disabled","true")},success:function(e){$("#company_country").html('<option value="">'+jsLang("Select Country")+"</option>"),$.each(e,function(e,t){$("#company_country").append(`'<option  ${t.code==oldCountry?"Selected":""} data-country="${t.code}" value="${t.code}">${t.name}</option>'`)}),$("#company_country").removeAttr("disabled")}}),"null"!=oldState&&i(oldCountry),"null"!=oldCity&&o(oldState,oldCountry),$("#company_country").on("change",function(){oldCity="null",i($("#company_country").find(":selected").attr("data-country"))}),$("#company_state").on("change",function(){o($("#company_state").find(":selected").attr("data-state"),$("#company_country").find(":selected").attr("data-country"))})}$("#is_redirect_link").on("change",function(){"1"==$(this).val()?($(".redirect_link_div").attr("hidden",!0),$(this).attr("value","0"),$("#redirect_link").attr("required",!1).val("").attr("name","")):($(".redirect_link_div").attr("hidden",!1),$(this).attr("value","1"),$("#redirect_link").attr("required",!0).attr("name","redirect_link"))}),$("#is_default_package").on("change",function(){"1"==$(this).val()?($(".signup_email_div").attr("hidden",!0),$(this).attr("value","0"),$("#features_word, #features_image, #features_minute, #features_character, #name").attr("required",!1)):($(".signup_email_div").attr("hidden",!1),$(this).attr("value","1"),$("#features_word, #features_image, #features_minute, #features_character, #name").attr("required",!0))});